# 脚本运行时职责边界

- `status`: accepted
- `owner`: @novaria-core
- `last_verified_commit`: 30e0b63
- `updated`: 2026-02-06

## 背景

项目计划采用 LuaJIT 做 Mod 与内容扩展。若脚本直接进入高频底层循环，性能与稳定性将不可控。

## 决策

- 脚本层只处理内容规则与事件响应。
- 高频循环、网络协议、渲染与核心仿真保持在 C++。
- 脚本与核心通过事件和受控 API 交互。

## 备选方案

- 脚本主导仿真：扩展快，但性能上限与调试成本不可接受。
- 全 C++ 内容硬编码：性能可控，但迭代效率与 Mod 生态受限。

## 后果与代价

- 优点：性能与可扩展性平衡，可定位问题边界。
- 代价：需要维护脚本桥接层与 API 版本兼容策略。

## 回退条件

无。后续即使替换脚本实现，边界原则保持不变。
